<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Red Panda Distribution Range and Occurrence in Nepal</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.css" rel="stylesheet" />
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }

    /* Style for the legend */
    .legend {
      background-color: white;
      border-radius: 5px;
      bottom: 30px;
      left: 10px;
      padding: 15px; /* Increased padding */
      font-family: Arial, sans-serif;
      position: absolute;
      z-index: 1;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    }
    .legend h4 {
      margin: 0 0 15px; /* Increased space below the title */
      font-size: 18px; /* Increased font size */
    }
    .legend div {
      display: flex;
      align-items: center;
      margin-bottom: 10px; /* Increased spacing between legend items */
    }
    .legend div span {
      width: 30px; /* Increased size */
      height: 30px; /* Increased size */
      display: inline-block;
      margin-right: 12px; /* Increased space between box and text */
    }

    /* Outline for protected areas */
    .outline {
      width: 30px; /* Increased size */
      height: 30px; /* Increased size */
      border: 3px solid #eb63eb; /* Outline color, increased border size */
      background-color: transparent; /* No fill */
    }

    /* Gradient for heatmap (Red to Blue) */
    .heatmap {
      width: 80px; /* Made wider for better gradient display */
      height: 30px; /* Increased size */
      background: linear-gradient(to right, #c52b14, #cbdd58, #00FFFF); /* Red to Blue gradient */
    }

    /* Gradient for LULC */
    .lulc-gradient {
      width: 150px; /* Wider for LULC gradient */
      height: 30px; /* Same height as other items */
      background: linear-gradient(to right, #006400, #7CFC00, #FFD700, #FFFFFF); /* LULC gradient: Forest (dark green) -> Shrubs (light green) -> Crops (yellow) -> Snow (white) */
    }

    /* Style for Red Panda icon */
    .red-panda-icon {
      width: 30px; /* Size of the icon */
      height: 30px;
    }

  </style>
</head>
<body>

<div id='map'></div>

<!-- Legend element -->
<div class="legend">
  <h4>Legend</h4>
  <div><span class="heatmap"></span>Red Panda Distribution in Nepal (Heatmap)</div>
  <div><img class="red-panda-icon" src="/rp.svg" alt="Red Panda">Red Panda Occurrence Points in Nepal (Symbol)</div> <!-- Red Panda symbol -->
  <div><span class="outline"></span>Protected Areas of Nepal (Outline)</div>
  <div><span style="background-color: #0000ff;"></span>Global Distribution Range of Red Panda</div>
  
  <h4>Land Use / Land Cover</h4>
  <div><span class="lulc-gradient"></span>Forest → Shrubs → Crops → Snow</div> <!-- Gradient for LULC -->
</div>

<script>
    // Mapbox access token
    mapboxgl.accessToken = 'pk.eyJ1IjoiYm5heWFkaCIsImEiOiJjbTFyNjluYjAwN2YyMnFwdmY5dWtmZTlnIn0.pPtlTBSF562LdTYSVl2Xig';
    
    // Initialize map
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/bnayadh/cm21u3fnj000401pchfw4d664',
      zoom: 5.6,
      center: [84.128547, 28.3949412] // Nepal's center
    });

    // Add geolocate control to the map
    map.addControl(new mapboxgl.GeolocateControl({
      positionOptions: {
        enableHighAccuracy: true
      },
      trackUserLocation: true
    }));
</script>

</body>
</html>
